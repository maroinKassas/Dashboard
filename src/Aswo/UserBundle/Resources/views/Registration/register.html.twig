{% extends "@AswoUser/layout.html.twig" %}
{% trans_default_domain 'FOSUserBundle' %}

{% block title %}
  	Utilisateurs
{% endblock %}

{% block bodyTitle %}
  	Utilisateurs
{% endblock %}

{% block body %}
	<div class="col-lg-12">
		<div class="row text-center">
			<h2> Liste des Membres </h2>
            <div id="shieldui-grid1" role="grid" aria-readonly="true" class="sui-grid sui-grid-core">
                <div class="sui-gridheader">
                    <table class="sui-table">
                        <thead> 
                            <tr role="row" class="sui-columnheader">
                                <th data-field="Source" role="columnheader" tabindex="-1" class="sui-headercell">
                                    <a href="#" class="sui-link sui-unselectable" unselectable="on" tabindex="-1">Identifiant</a>
                                </th>
                                <th data-field="Amount" role="columnheader" tabindex="-1" class="sui-headercell">
                                    <a href="#" class="sui-link sui-unselectable" unselectable="on" tabindex="-1">Adresse Email</a>
                                </th>
                                <th data-field="Percent" role="columnheader" tabindex="-1" class="sui-headercell">
                                    <a href="#" class="sui-link sui-unselectable" unselectable="on" tabindex="-1">Role</a>
                                </th>
                                <th data-field="Percent" role="columnheader" tabindex="-1" class="sui-headercell">
                                    <a href="#" class="sui-link sui-unselectable" unselectable="on" tabindex="-1"></a>
                                </th>
                            </tr>
                        </thead>
                    </table>
                </div>
                <div class="sui-gridcontent">
                    <table class="sui-table">
                        <tbody>
                            {% for user in users %}
                                <tr class="sui-row" role="row">
                                    <td role="gridcell" tabindex="-1" class="sui-cell">{{ user.username }}</td>
                                    <td role="gridcell" tabindex="-1" class="sui-cell">{{ user.email }}</td>
                                    <td role="gridcell" tabindex="-1" class="sui-cell">{% for role in user.roles %}{{ role }}, {% endfor %}</td>
                                    <td role="gridcell" tabindex="-1" class="sui-cell">
                                        <button type="button" class="btn btn-warning">Modifier</button>
                                        <button type="button" class="btn btn-danger">Supprimer</button>
                                    </td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
		</div>
	</div>

	<div class="col-lg-12">
		<div class="row text-center">
			<h2> Cr√©er un Membre </h2>
		</div>
        <form class="login100-form validate-form" action="{{ path("fos_user_registration_register") }}" method="post">  
            <div>
                <label for="emailaddress" class="col-md-2">
                    Identifiant :
                </label>

                <div class="col-md-9">
                    <input type="text" class="form-control" name="fos_user_registration_form[username]" required="required" maxlength="180" pattern=".{2,}">
                </div>

                <div class="col-md-1">
                    <i class="fa fa-lock fa-2x"></i>
                </div>
            </div>

            <div>
                <label for="emailaddress" class="col-md-2">
                    Adresse Email :
                </label>

                <div class="col-md-9">
                    <input type="email" class="form-control" type="email" name="fos_user_registration_form[email]" required="required">
                </div>

                <div class="col-md-1">
                    <i class="fa fa-lock fa-2x"></i>
                </div>
            </div>

            <div>
                <label for="mdp" class="col-md-2">
                    Mot de passe :
                </label>

                <div class="col-md-9">
                    <input type="password" class="form-control" name="fos_user_registration_form[plainPassword][first]" required="required">
                </div>

                <div class="col-md-1">
                    <i class="fa fa-lock fa-2x"></i>
                </div>
            </div>

            <div>
                <label for="mdp" class="col-md-2">
                    Confirmation du mot de passe :
                </label>

                <div class="col-md-9">
                    <input type="password" class="form-control" name="fos_user_registration_form[plainPassword][second]" required="required">
                </div>

                <div class="col-md-1">
                    <i class="fa fa-lock fa-2x"></i>
                </div>
            </div>

            <div>
                <label for="roles" class="col-md-2">
                    Role :
                </label>

                <div class="col-md-9">
                    <div class="col-md-3"></div>
                    <div class="col-md-1">
                        <input type="radio" class="form-control" name="fos_user_registration_form[roles][0]" required="required" value="ROLE_DEFAULT">
                    </div>
                    <label for="roles" class="col-md-2" style="padding-top:8px;">
                        Utilisateur 
                    </label>

                    <div class="col-md-1">
                        <input type="radio" class="form-control" name="fos_user_registration_form[roles][0]" required="required" value="ROLE_SUPER_ADMIN">
                    </div>
                    <label for="roles" class="col-md-2" style="padding-top:8px;">
                        Admin
                    </label>
                </div>

                <div class="col-md-1">
                    <i class="fa fa-lock fa-2x"></i>
                </div>
            </div>
            <input type="hidden" id="fos_user_registration_form__token" name="fos_user_registration_form[_token]" value="{{csrf_token('registration')}}">

            <div class="col-md-10">
                <button type="submit" class="btn btn-info">
                    Inscription
                </button>
            </div>
        </form>
	</div>

{% endblock %}